<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>Emma Drapp's HCDE 439 Physical Computing Page!</title> 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
    <body> 

        <div class="header">
            <h1>Emma Drapp's HCDE439 Final Project: The not annoying smoke detector!</h1>
            <h2>Project Proposal:</h2>
            <p><img src="Project Proposal.png" width="420"></p>
            <br>
            <h2>Concept:</h2>
            <p>A visual smoke detector that detects increased smoke in the air and when a threshold is reached it will turn on lights to notify the user!</p>
            <p>Since my kitchen is smoke prone and we keep our smoke detector unplugged since it constantly beeps unnecessarily, I wanted to build a visual smoke detector instead.</p>
            <br>
            <h2>Technical Implementation:</h2>
            <b><p>Process:</p></b>
            <p>For this project I used an MQ2 smoke detector, LED strip light, a transistor, wires, alligator clip wires, an Arduino, mini bread board, and 12V power source.</p>
            <br>
            <p>The project consists of an input device which is the MQ2 smoke detector and an output device which is the LED strip. I used the analog pin A0 on the Arduino and the analogRead function to read the output voltage of the MQ2 sensor which is proportional to the gas concentration in the air. I then calibrated the device and got a set of baseline values and also collected data on values detected when I put a burning piece of paper in front of the device to decide a threshold value to trigger the output device. Once the MQ2 sensor value reaches above the threshold value, the LED strip lights are turned on via pin 9 on the Arduino. The code is written so when the values dip below the threshold again the lights will turn off.             </p>
            <br>
            <p>Then, I build a container for the smoke detector to make it more appealing and not have all the wires all over the place because that is also a fire hazard in the kitchen. I used an old shoe box and created a hole for the MQ2 smoke detector sensor as shown below:</p>
            <br>
            <p><img src="IMG_6010 Large.jpeg" width="400"></p>
            <br>
            <p><img src="IMG_6005 Large.jpeg" width="400"></p>
            <br>
            <b><p>Schematic:</p></b>
            <p><img src="IMG_5997 Large.jpeg" width="420"></p>
            <p>The schematic for this project consists of an MQ2 Smoke Detector connected to ground, power, and analog pin A0 as well as a load power (12V power supply) connected to the load (LED strip) which is connected to an N-MOSFET transistor that is connected to Pin 9 and ground. Note: The IR sensor is connected to 5V power through the arduino since anything more and it will break while the LED strip is connected to a 12V power supply.</p>
            <br>
            <p><img src="IMG_5996 Large.jpeg" width="420"></p>
            <p>The LED strip has 300 LEDs total which is made up of 100 parallel branches with 3 LEDs each. Each parallel branch uses a 180 Ohm resistor and uses 13mA. Thus, with a 12V power that can take up to 2A there can be a maximum of 154 branches with 462 LEDs which I was well under. Furthermore, this circuit currently had a max current of 1.3A. </p>
            <br>
            <b><p>Circuit:&nbsp;</p></b>
            <p>Here is the circuit made from the schematic and calculations above:</p>
            <p><img src="IMG_5993 Large.jpeg" width="400"></p>
            <br>
            <p><img src="IMG_5994 Large.jpeg" width="400"></p>
            <br>
            <b><p>Firmware:</p></b>
            <p>Here is the code used for my final project. This code defines the smoke detector threshold value based on the calibration phase and then turns on the lights when the detected values hits the threshold value.</p>
            <br>
            <p>Note: The MQ2 Smoke Detector was first calibrated to see what a normal range of values was which for me was anywhere from 9 to around 13, thus giving a bit of leeway I used 15 as my threshold value. </p>
            <br>
            <i>
                <div>
                    <div>/* this MQ2 sensor documentation was used as a reference for the following code: https://lastminuteengineers.com/mq2-gas-senser-arduino-tutorial/ */</div>
                    <br />
                    <div>#define Threshold 15 // define threshold value aka when theres too much smoke</div>
                    <br />
                    <div>#define MQ2pin 0 // define pin connected to smoke detector</div>
                    <br />
                    <div>float sensorValue; // variable to store smoke detector value</div>
                    <br />
                    <div>int led = 9; // the PWM pin the LED is attached to</div>
                    <br />
                    <div>void setup() {</div>
                    <div>pinMode(led, OUTPUT); // initiate led pin</div>
                    <div>Serial.begin(9600); // sets the serial port to 9600</div>
                    <div>Serial.println("The smoke detector warming up!"); // lets user know the smoke detector is warming up</div>
                    <div>delay(20000); // allow the MQ2 to warm up</div>
                    <div>}</div>
                    <br />
                    <div>void loop() {</div>
                    <div>sensorValue = analogRead(MQ2pin); // read analog input pin 0</div>
                    <br />
                    <div>Serial.print("Sensor Value: "); //prints sensor value</div>
                    <div>Serial.print(sensorValue); //prints sensor value</div>
                    <br />
                    <div>if(sensorValue &gt; Threshold) // runs the following code if the smoke detector value is above the threshold</div>
                    <div>{</div>
                    <div>Serial.print(" | Smoke detected!"); //says smoke is detected</div>
                    <div>analogWrite(led, 200); // turns on LED</div>
                    <div>}</div>
                    <div>else{</div>
                    <div>analogWrite(led, 0); // turn off LED</div>
                    <div>}</div>
                    <div>&nbsp;</div>
                    <div>Serial.println(""); // new line</div>
                    <div>delay(2000); // wait 2s for next reading</div>
                    <div>}</div>
                </div>
            </i>
            <br>
            <b><p>Circuit&rsquo;s Operation:</p></b>
            <p>Finally, here is the video I made showing the final project in action!</p>
            <iframe width="420" height="315"
            src="https://youtu.be/Z-VHE9_y8PU">
            </iframe>
            <p>Just in case the iframe video doesn't work here is a physical link to the video: https://youtu.be/Z-VHE9_y8PU </p>
            <p><br></p>
        </div>
        
    </body>
</html>